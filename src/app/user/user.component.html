<kui-progress-indicator *ngIf="loading"></kui-progress-indicator>
<app-error *ngIf="error"></app-error>

<div class="content large middle" *ngIf="!loading">

    <div class="content-sidebar user-data">
        <app-profile [username]="session.user.name" [loggedInUser]="true"></app-profile>
    </div>

    <div class="content-container">
        <nav mat-tab-nav-bar mat-align-tabs="left" class="tab-bar" animationDuration="0ms">
            <a mat-tab-link *ngFor="let link of navigation" [routerLink]="link.route" routerLinkActive="active-tab"
               #rla="routerLinkActive" [active]="rla.isActive">
                <mat-icon class="tab-icon">{{link.icon}}</mat-icon>
                {{link.label}}
            </a>
        </nav>

        <!-- main content: router outlet -->
        <div class="content large middle" [ngSwitch]="route" *ngIf="!loading && route">

            <!-- user profile -->
            <div *ngSwitchCase="'profile'" class="full-width">
                <app-projects [username]="session.user.name"></app-projects>
            </div>

            <!-- edit user data -->
            <div *ngSwitchCase="'account'" class="full-width">
                <app-account [username]="session.user.name"></app-account>
            </div>

            <!-- user's projects -->
            <div *ngSwitchCase="'projects'" class="full-width">
                <app-projects [username]="session.user.name" [system]="false"></app-projects>
            </div>

            <!-- user's collections (!!!NOT YET IMPLEMENTED!!!) -->
            <app-collection-list *ngSwitchCase="'collections'"></app-collection-list>

        </div>
    </div>



</div>
